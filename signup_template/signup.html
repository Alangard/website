<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Login & Sign up</title>
    <link rel="stylesheet" href="../signup_template/signup.html">

    <link href="https://fonts.googleapis.com/css?family=Lato:300,400,700" rel="stylesheet">
</head>
<body>

    <div class="signup-frame-container">
        <div class="transition-container signup-head-container">
            <img class="logo-img" src="../source/logo.png" alt="logo-img">
            <div class="signup-head-container-visible-block"> </div>
        </div>
        <div class="transition-container signup-frame">
            <p>SIGN UP</p>
            <div class="field-container username-field-container">
                <img class="user-icon" src="../source/user_icon.svg" alt="user_icon">
                <input type="text" name="username" id="signup-username-field" placeholder="Username">
            </div>
            <div class="field-container email-field-container">
                <img class="email-icon" src="../source/email_icon.svg" alt="user_icon">
                <input type="email" name="email" id="signup-email-field" placeholder="Email">
            </div>
            <div class="field-container password-field-container">
                <img class="pass-icon" src="../source/pass_icon.svg" alt="pass_icon">
                <input type="password" name="password" id="signup-pass-field" placeholder="Password">
                <a href="#" class="password-control" onclick="return show_hide_password(this);"></a>
            </div>
            <div class="field-container password-confirm-field-container">
                <img class="pass-icon" src="../source/pass_icon.svg" alt="pass_icon">
                <input type="password" name="password" id="signup-pass-confirm-field" placeholder="Password">
                <a href="#" class="password-control" onclick="return show_hide_password_confirm(this);"></a>
            </div>
            <button type="submit" class="signup-btn">CREATE ACCOUNT</button>
            <a class="login-link" href="../login_template/login.html">Already have an account? Login here</a>
        </div>
        <div class="transition-container signup-foot-container">
            <p class="sending-data-text">Sending data</p>
        </div>
    </div>
    
    <script>
        function show_hide_password(target){
            var input = document.getElementById('signup-pass-field');
            if (input.getAttribute('type') == 'password') {
                target.classList.add('view');
                input.setAttribute('type', 'text');
            } else {
                target.classList.remove('view');
                input.setAttribute('type', 'password');
            }
            return false;
        }
        
        function show_hide_password_confirm(target){
            var input = document.getElementById('signup-pass-confirm-field');
            if (input.getAttribute('type') == 'password') {
                target.classList.add('view');
                input.setAttribute('type', 'text');
            } else {
                target.classList.remove('view');
                input.setAttribute('type', 'password');
            }
            return false;
        }


        // Collapsing script
        var transition_duration = '0.7'
        var elements_list = document.querySelectorAll('.transition-container')

        function after_collapse_animation(){
            document.querySelector('.sending-data-text').style.display ='inline';
            document.querySelector('.logo-img').classList.toggle('rotate-animation');}

        for (var i = 0; i < elements_list.length; ++i) {
                elements_list[i].style.transitionDuration = transition_duration + "s";}

        document.querySelector('.signup-btn').addEventListener('click', function() {
            document.querySelector('.signup-frame').classList.toggle('collapsed');
            setTimeout(after_collapse_animation, parseFloat(transition_duration));});

    </script>
</body>
</html>